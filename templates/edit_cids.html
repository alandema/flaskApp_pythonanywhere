{% extends "base.html" %}

{% block content %}
<div class="edit-cids-page">
    <script src="{{ url_for('static', filename='js/edit_cids.js') }}"></script>
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>

    <h1>Cadastrar/Editar CID</h1>

    <select id="cid-select">
        <option value="new_cid">***Cadastrar Novo CID***</option>
        {% for cid in cid_list %}
        <option value="{{ cid.id }}">{{ cid.code }} - {{ cid.description }}</option>
        {% endfor %}
    </select>

    <p><br></br><br></br></p>

    <form id="cidForm" method="POST" action="{{ url_for('edit_cids') }}" class="cid-form">
        <input type="hidden" name="cid_id" id="cid_id">

        <div class="form-row">
            <div class="form-group">
                <label for="code">Código CID</label>
                <input type="text" name="code" id="code" value="{{ cid.code if cid else '' }}" required>
            </div>

            <div class="form-group">
                <label for="description">Descrição</label>
                <input type="text" name="description" id="description" value="{{ cid.description if cid else '' }}"
                    required>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">Salvar</button>
            <button type="button" id="deleteButton" class="btn-secondary" hidden>Excluir</button>
        </div>
    </form>
</div>
{% endblock %}