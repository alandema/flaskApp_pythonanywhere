{% extends "base.html" %}

{% block content %}
<div class="register-page">
    <h1>{{ 'Editar' if patient else 'Cadastrar' }} Paciente</h1>

    <form method="POST" action="{{ url_for('register_patient') }}" class="patient-form">
        {% if patient %}
        <input type="hidden" name="patient_id" value="{{ patient.id }}">
        {% endif %}

        <div class="form-row">
            <div class="form-group">
                <label for="name">Nome Completo</label>
                <input type="text" name="name" id="name" value="{{ patient.name if patient else '' }}" required>
            </div>

            <div class="form-group">
                <label for="cpf">CPF</label>
                <input type="text" name="cpf" id="cpf" value="{{ patient.cpf if patient else '' }}" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="birth_date">Data de Nascimento</label>
                <input type="date" name="birth_date" id="birth_date" value="{{ patient.birth_date if patient else '' }}"
                    required>
            </div>

            <div class="form-group">
                <label for="phone">Telefone</label>
                <input type="tel" name="phone" id="phone" value="{{ patient.phone if patient else '' }}" required>
            </div>
        </div>

        <div class="form-group">
            <label for="address">Endereço</label>
            <input type="text" name="address" id="address" value="{{ patient.address if patient else '' }}" required>
        </div>

        <div class="form-group">
            <label for="medical_history">Histórico Médico</label>
            <textarea name="medical_history" id="medical_history"
                rows="4">{{ patient.medical_history if patient else '' }}</textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">{{ 'Atualizar' if patient else 'Cadastrar' }}</button>
            <button type="reset" class="btn-secondary">Limpar</button>
        </div>
    </form>
</div>
{% endblock %}